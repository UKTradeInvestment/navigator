{% extends 'directory_components/base.html' %}

{% load staticfiles %}

{% block head_css %}
	{{ block.super }}
    <link href="{% static 'css/main.css' %}" media="all" rel="stylesheet" />
{% endblock %}

{% block css_layout_class %}enrolment-content{% endblock css_layout_class %}

{% block body_js %}
    <script type="text/javascript" src="{% static 'javascripts/index.js' %}"></script>
    <script type="text/javascript">
      const isAnonymous = document.cookie.indexOf('sso_display_logged_in=true') === -1;
      const accountLinksContainer = document.getElementsByClassName('extra-links')[0];
      const account = document.getElementById('header-profile');
      const signOut = document.getElementById('header-sign-out');
      const signIn = document.getElementById('header-sign-in');
      if (isAnonymous) {
        accountLinksContainer.removeChild(account);
        accountLinksContainer.removeChild(signOut);
      } else {
        account.style.display = 'inline-block';
        signOut.style.display = 'inline-block';
        accountLinksContainer.removeChild(signIn);
      }
    </script>
{% endblock body_js %}

{% block feedback_reporter %}{% endblock %}


{% block body_header %}

  {% load static %}

  <header id="great-domestic-header" class="great-header" dir="ltr" data-ga-section="header">
    {% include 'directory_components/header_footer/global_header.html' with header_class="domestic" %}

    <div class="menu">
      <div class="container">
        {% block header_logo %}
          {% static 'directory_components/images/eig-logo-stacked.svg' as logo_image_url %}
          {% include 'directory_components/header_footer/header_logo.html' with url=services_urls.exred image_source=logo_image_url image_alt_text='Exporting is Great' %}
        {% endblock %}

        {% block login_state %}
          <ul class="extra-links">
            <li class="anonymous" id="header-sign-in">
              <a href="{{ sso_login_url }}" class="account-link signin">Sign in</a>
            </li>
            <li class="authenticated" id="header-profile">
              <a href="{{ sso_profile_url }}" class="account-link profile">Account</a>
            </li>
            <li class="authenticated" id="header-sign-out">
              <a href="{{ sso_logout_url }}" class="account-link signout">Sign out</a>
            </li>
          </ul>
        {% endblock %}

        {% include 'directory_components/header_footer/mobile_menu_button.html' %}

        {% include 'directory_components/header_footer/domestic_header_nav.html' with device_type='desktop' js_tag=false %}
        {% include 'directory_components/header_footer/search.html' %}
      </div>

      {% include 'directory_components/header_footer/domestic_header_nav.html' with id='great-header-mobile-nav' device_type='mobile' js_tag=True %}

    </div>
  </header>

{% endblock body_header %}
